# ğŸ” Google Maps API Key å¤šå¹³å°é…ç½®æŒ‡å—

## âŒ é—®é¢˜

**é—®é¢˜**: å°† API Key çš„ Application restrictions è®¾ç½®ä¸º "Android apps" åï¼Œå®¢æˆ·ç«¯ Web å’Œ Admin Web ä¸Šçš„ Google Maps éƒ½æ— æ³•ä½¿ç”¨ã€‚

**åŸå› **: Android apps é™åˆ¶åªå…è®¸ Android åº”ç”¨ä½¿ç”¨è¯¥ API Keyï¼ŒWeb åº”ç”¨æ— æ³•ä½¿ç”¨ã€‚

---

## âœ… è§£å†³æ–¹æ¡ˆï¼šåˆ›å»ºå¤šä¸ª API Key

### æ–¹æ¡ˆ 1ï¼šåˆ›å»ºå¤šä¸ª API Keyï¼ˆæ¨èï¼‰

ä¸ºä¸åŒå¹³å°åˆ›å»ºä¸åŒçš„ API Keyï¼Œåˆ†åˆ«é…ç½®ä¸åŒçš„é™åˆ¶ã€‚

#### API Key 1ï¼šAndroid åº”ç”¨ä¸“ç”¨

**ç”¨é€”**: éª‘æ‰‹ Appï¼ˆAndroidï¼‰

**é…ç½®**:
- **Application restrictions**: Android apps
- **åŒ…å**: `com.mlexpress.courier`
- **SHA-1 æŒ‡çº¹**: 
  - `8E:05:84:E7:07:02:08:17:E5:F8:FE:3B:8F:19:3C:5A:76:CD:FE:B8`ï¼ˆåº”ç”¨ç­¾åå¯†é’¥ï¼‰
  - `8B:37:44:0A:07:3A:AA:EA:B1:F2:75:53:72:A3:BB:0D:3A:18:7D:E0`ï¼ˆä¸Šä¼ å¯†é’¥ï¼‰

**API é™åˆ¶**:
- âœ… Maps SDK for Android
- âœ… Geocoding API
- âœ… Directions API
- âœ… Distance Matrix API

#### API Key 2ï¼šWeb åº”ç”¨ä¸“ç”¨

**ç”¨é€”**: å®¢æˆ·ç«¯ Web å’Œ Admin Web

**é…ç½®**:
- **Application restrictions**: HTTP referrers (web sites)
- **å…è®¸çš„ç½‘ç«™**:
  - `https://market-link-express.com/*`
  - `https://*.market-link-express.com/*`
  - `https://admin-market-link-express.com/*`
  - `https://*.admin-market-link-express.com/*`
  - `http://localhost:*`ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
  - `http://127.0.0.1:*`ï¼ˆå¼€å‘ç¯å¢ƒï¼‰

**API é™åˆ¶**:
- âœ… Maps JavaScript API
- âœ… Geocoding API
- âœ… Directions API
- âœ… Distance Matrix API

---

## ğŸ“ è¯¦ç»†é…ç½®æ­¥éª¤

### æ­¥éª¤ 1ï¼šåˆ›å»º Android åº”ç”¨ä¸“ç”¨ API Key

1. **ç™»å½• Google Cloud Console**
   - è®¿é—®ï¼šhttps://console.cloud.google.com
   - é€‰æ‹©æ‚¨çš„é¡¹ç›®

2. **åˆ›å»ºæ–°çš„ API Key**
   - å¯¼èˆªåˆ°ï¼š**"API å’ŒæœåŠ¡"** â†’ **"å‡­æ®"**
   - ç‚¹å‡» **"åˆ›å»ºå‡­æ®"** â†’ **"API å¯†é’¥"**
   - å¤åˆ¶ç”Ÿæˆçš„ API Keyï¼ˆä¾‹å¦‚ï¼š`AIzaSy...Android`ï¼‰

3. **é…ç½®åº”ç”¨é™åˆ¶**
   - ç‚¹å‡» API Key è¿›å…¥ç¼–è¾‘é¡µé¢
   - **åº”ç”¨é™åˆ¶**: é€‰æ‹© **"Android åº”ç”¨"**
   - ç‚¹å‡» **"æ·»åŠ é¡¹ç›®"**
   - å¡«å†™ï¼š
     ```
     åŒ…åç§°: com.mlexpress.courier
     SHA-1 è¯ä¹¦æŒ‡çº¹: 8E:05:84:E7:07:02:08:17:E5:F8:FE:3B:8F:19:3C:5A:76:CD:FE:B8
     ```
   - å†æ·»åŠ ä¸€ä¸ª SHA-1ï¼š
     ```
     SHA-1 è¯ä¹¦æŒ‡çº¹: 8B:37:44:0A:07:3A:AA:EA:B1:F2:75:53:72:A3:BB:0D:3A:18:7D:E0
     ```

4. **é…ç½® API é™åˆ¶**
   - **API é™åˆ¶**: é€‰æ‹© **"é™åˆ¶å¯†é’¥"**
   - é€‰æ‹©ä»¥ä¸‹ APIï¼š
     - âœ… Maps SDK for Android
     - âœ… Geocoding API
     - âœ… Directions API
     - âœ… Distance Matrix API

5. **ä¿å­˜æ›´æ”¹**

### æ­¥éª¤ 2ï¼šåˆ›å»º Web åº”ç”¨ä¸“ç”¨ API Key

1. **åˆ›å»ºæ–°çš„ API Key**
   - åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œç‚¹å‡» **"åˆ›å»ºå‡­æ®"** â†’ **"API å¯†é’¥"**
   - å¤åˆ¶ç”Ÿæˆçš„ API Keyï¼ˆä¾‹å¦‚ï¼š`AIzaSy...Web`ï¼‰

2. **é…ç½®åº”ç”¨é™åˆ¶**
   - ç‚¹å‡» API Key è¿›å…¥ç¼–è¾‘é¡µé¢
   - **åº”ç”¨é™åˆ¶**: é€‰æ‹© **"HTTP referrers (web sites)"**
   - ç‚¹å‡» **"æ·»åŠ é¡¹ç›®"**
   - æ·»åŠ ä»¥ä¸‹ç½‘ç«™ï¼š
     ```
     https://market-link-express.com/*
     https://*.market-link-express.com/*
     https://admin-market-link-express.com/*
     https://*.admin-market-link-express.com/*
     http://localhost:*
     http://127.0.0.1:*
     ```

3. **é…ç½® API é™åˆ¶**
   - **API é™åˆ¶**: é€‰æ‹© **"é™åˆ¶å¯†é’¥"**
   - é€‰æ‹©ä»¥ä¸‹ APIï¼š
     - âœ… Maps JavaScript API
     - âœ… Geocoding API
     - âœ… Directions API
     - âœ… Distance Matrix API

4. **ä¿å­˜æ›´æ”¹**

### æ­¥éª¤ 3ï¼šæ›´æ–°åº”ç”¨é…ç½®

#### 3.1 æ›´æ–° Android åº”ç”¨é…ç½®

**æ–‡ä»¶**: `ml-express-mobile-app/app.config.js`

```javascript
android: {
  config: {
    googleMaps: {
      apiKey: "AIzaSy...Android" // ä½¿ç”¨ Android ä¸“ç”¨ API Key
    }
  }
}
```

#### 3.2 æ›´æ–°å®¢æˆ·ç«¯ Web é…ç½®

**æ–‡ä»¶**: `ml-express-client-web/.env` æˆ– Netlify ç¯å¢ƒå˜é‡

```
REACT_APP_GOOGLE_MAPS_API_KEY=AIzaSy...Web
```

**Netlify ç¯å¢ƒå˜é‡é…ç½®**:
1. ç™»å½• Netlify Dashboard
2. é€‰æ‹©é¡¹ç›®ï¼š`client-ml-express`
3. è¿›å…¥ **Site settings** â†’ **Environment variables**
4. æ›´æ–° `REACT_APP_GOOGLE_MAPS_API_KEY` ä¸º Web ä¸“ç”¨ API Key

#### 3.3 æ›´æ–° Admin Web é…ç½®

**æ–‡ä»¶**: `vercel.json` æˆ– Vercel ç¯å¢ƒå˜é‡

```json
{
  "env": {
    "REACT_APP_GOOGLE_MAPS_API_KEY": "AIzaSy...Web"
  }
}
```

**Vercel ç¯å¢ƒå˜é‡é…ç½®**:
1. ç™»å½• Vercel Dashboard
2. é€‰æ‹©é¡¹ç›®
3. è¿›å…¥ **Settings** â†’ **Environment Variables**
4. æ›´æ–° `REACT_APP_GOOGLE_MAPS_API_KEY` ä¸º Web ä¸“ç”¨ API Key

---

## ğŸ”„ æ–¹æ¡ˆ 2ï¼šä½¿ç”¨åŒä¸€ä¸ª API Keyï¼ˆå¦‚æœæ”¯æŒï¼‰

**æ³¨æ„**: Google Cloud Console çš„ API Key é™åˆ¶é€šå¸¸åªèƒ½é€‰æ‹©ä¸€ç§ç±»å‹ï¼ˆAndroid appsã€iOS appsã€HTTP referrers ç­‰ï¼‰ã€‚

**å¦‚æœæ‚¨çš„ Google Cloud Console æ”¯æŒåŒæ—¶æ·»åŠ å¤šç§é™åˆ¶**ï¼ˆæŸäº›æƒ…å†µä¸‹å¯èƒ½æ”¯æŒï¼‰ï¼š

1. **ä¿æŒ Application restrictions ä¸º "None"**ï¼ˆä¸æ¨èï¼Œå®‰å…¨æ€§è¾ƒä½ï¼‰
2. **åªä½¿ç”¨ API é™åˆ¶**æ¥é™åˆ¶å¯ä»¥ä½¿ç”¨çš„ API
3. **åœ¨ä»£ç ä¸­éªŒè¯æ¥æº**ï¼ˆä¸æ¨èï¼Œå®‰å…¨æ€§è¾ƒä½ï¼‰

**æ¨è**: ä½¿ç”¨æ–¹æ¡ˆ 1ï¼ˆåˆ›å»ºå¤šä¸ª API Keyï¼‰ï¼Œæ›´å®‰å…¨ã€æ›´æ¸…æ™°ã€‚

---

## ğŸ“‹ é…ç½®æ£€æŸ¥æ¸…å•

å®Œæˆé…ç½®åï¼Œè¯·ç¡®è®¤ï¼š

### Android åº”ç”¨ API Key
- [ ] âœ… å·²åˆ›å»º Android ä¸“ç”¨ API Key
- [ ] âœ… Application restrictions è®¾ç½®ä¸º "Android apps"
- [ ] âœ… å·²æ·»åŠ åŒ…åï¼š`com.mlexpress.courier`
- [ ] âœ… å·²æ·»åŠ ä¸¤ä¸ª SHA-1 æŒ‡çº¹
- [ ] âœ… API é™åˆ¶å·²é…ç½®ï¼ˆMaps SDK for Android ç­‰ï¼‰
- [ ] âœ… Android åº”ç”¨é…ç½®å·²æ›´æ–°

### Web åº”ç”¨ API Key
- [ ] âœ… å·²åˆ›å»º Web ä¸“ç”¨ API Key
- [ ] âœ… Application restrictions è®¾ç½®ä¸º "HTTP referrers (web sites)"
- [ ] âœ… å·²æ·»åŠ æ‰€æœ‰ Web åŸŸå
- [ ] âœ… å·²æ·»åŠ æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ˆlocalhostï¼‰
- [ ] âœ… API é™åˆ¶å·²é…ç½®ï¼ˆMaps JavaScript API ç­‰ï¼‰
- [ ] âœ… å®¢æˆ·ç«¯ Web é…ç½®å·²æ›´æ–°ï¼ˆNetlifyï¼‰
- [ ] âœ… Admin Web é…ç½®å·²æ›´æ–°ï¼ˆVercelï¼‰

---

## ğŸš€ å¿«é€Ÿæ“ä½œæ­¥éª¤

### 1. åˆ›å»ºä¸¤ä¸ª API Key

```bash
# åœ¨ Google Cloud Console ä¸­æ“ä½œ
# 1. åˆ›å»º Android ä¸“ç”¨ API Key
# 2. åˆ›å»º Web ä¸“ç”¨ API Key
```

### 2. æ›´æ–°åº”ç”¨é…ç½®

#### Android åº”ç”¨
```bash
cd ml-express-mobile-app
# ç¼–è¾‘ app.config.jsï¼Œæ›´æ–° Android API Key
```

#### å®¢æˆ·ç«¯ Webï¼ˆNetlifyï¼‰
1. ç™»å½• Netlify Dashboard
2. æ›´æ–°ç¯å¢ƒå˜é‡ï¼š`REACT_APP_GOOGLE_MAPS_API_KEY`

#### Admin Webï¼ˆVercelï¼‰
1. ç™»å½• Vercel Dashboard
2. æ›´æ–°ç¯å¢ƒå˜é‡ï¼š`REACT_APP_GOOGLE_MAPS_API_KEY`

### 3. é‡æ–°éƒ¨ç½²

#### å®¢æˆ·ç«¯ Web
```bash
# Netlify ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶é‡æ–°éƒ¨ç½²
# æˆ–æ‰‹åŠ¨è§¦å‘éƒ¨ç½²
```

#### Admin Web
```bash
# Vercel ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶é‡æ–°éƒ¨ç½²
# æˆ–æ‰‹åŠ¨è§¦å‘éƒ¨ç½²
```

---

## âš ï¸ é‡è¦æç¤º

### 1. å®‰å…¨æ€§

- âœ… **ä½¿ç”¨å¤šä¸ª API Key æ›´å®‰å…¨**ï¼šæ¯ä¸ªå¹³å°ä½¿ç”¨ç‹¬ç«‹çš„ API Key
- âœ… **é™åˆ¶æ›´ç²¾ç¡®**ï¼šå¯ä»¥ä¸ºæ¯ä¸ªå¹³å°è®¾ç½®ä¸åŒçš„é™åˆ¶
- âœ… **ä¾¿äºç®¡ç†**ï¼šå¦‚æœæŸä¸ª API Key æ³„éœ²ï¼Œåªéœ€è¦æ›´æ¢è¯¥å¹³å°çš„ API Key

### 2. é…é¢ç®¡ç†

- âš ï¸ æ¯ä¸ª API Key éƒ½æœ‰ç‹¬ç«‹çš„é…é¢é™åˆ¶
- âœ… å¯ä»¥ä¸ºä¸åŒå¹³å°è®¾ç½®ä¸åŒçš„é…é¢é™åˆ¶
- âœ… ä¾¿äºç›‘æ§å„å¹³å°çš„ä½¿ç”¨æƒ…å†µ

### 3. æˆæœ¬ç®¡ç†

- âš ï¸ ä½¿ç”¨å¤šä¸ª API Key ä¸ä¼šå¢åŠ æˆæœ¬
- âœ… æ‰€æœ‰ API Key éƒ½ä½¿ç”¨åŒä¸€ä¸ª Google Cloud é¡¹ç›®çš„é…é¢
- âœ… ä¾¿äºåˆ†åˆ«ç›‘æ§å„å¹³å°çš„ä½¿ç”¨æƒ…å†µ

---

## ğŸ“ å¸¸è§é—®é¢˜

### Q1: å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ª API Key å—ï¼Ÿ

**A**: ä¸æ¨èã€‚Google Cloud Console çš„ API Key é™åˆ¶é€šå¸¸åªèƒ½é€‰æ‹©ä¸€ç§ç±»å‹ï¼ˆAndroid appsã€HTTP referrers ç­‰ï¼‰ã€‚å¦‚æœè®¾ç½®ä¸º Android appsï¼ŒWeb åº”ç”¨å°†æ— æ³•ä½¿ç”¨ã€‚

### Q2: åˆ›å»ºå¤šä¸ª API Key ä¼šå¢åŠ æˆæœ¬å—ï¼Ÿ

**A**: ä¸ä¼šã€‚æ‰€æœ‰ API Key éƒ½ä½¿ç”¨åŒä¸€ä¸ª Google Cloud é¡¹ç›®çš„é…é¢å’Œè®¡è´¹ã€‚

### Q3: å¦‚ä½•æŸ¥çœ‹å„å¹³å°çš„ä½¿ç”¨æƒ…å†µï¼Ÿ

**A**: 
1. ç™»å½• Google Cloud Console
2. å¯¼èˆªåˆ° **"API å’ŒæœåŠ¡"** â†’ **"ä»ªè¡¨æ¿"**
3. æŸ¥çœ‹å„ä¸ª API çš„ä½¿ç”¨æƒ…å†µ
4. å¯ä»¥ä¸ºæ¯ä¸ª API Key è®¾ç½®ä¸åŒçš„é…é¢é™åˆ¶

---

## âœ… æ€»ç»“

**è§£å†³æ–¹æ¡ˆ**: âœ… **åˆ›å»ºå¤šä¸ª API Keyï¼Œåˆ†åˆ«ç”¨äºä¸åŒå¹³å°**

**é…ç½®**:
1. âœ… Android åº”ç”¨ä¸“ç”¨ API Keyï¼ˆAndroid apps é™åˆ¶ï¼‰
2. âœ… Web åº”ç”¨ä¸“ç”¨ API Keyï¼ˆHTTP referrers é™åˆ¶ï¼‰

**ä¼˜ç‚¹**:
- âœ… æ›´å®‰å…¨
- âœ… æ›´çµæ´»
- âœ… ä¾¿äºç®¡ç†
- âœ… ä¸ä¼šå¢åŠ æˆæœ¬

---

**æ–‡æ¡£åˆ›å»ºæ—¶é—´**: 2025-01-16

