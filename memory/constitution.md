# MARKET LINK EXPRESS - 项目开发原则

## 核心价值观

### 1. 用户体验至上
- **简洁直观的界面**：所有功能必须易于理解和使用
- **多语言支持**：支持中文和缅甸语
- **响应式设计**：在各种设备上都能良好运行
- **实时反馈**：所有操作都要有即时的视觉反馈

### 2. 代码质量
- **类型安全**：使用 TypeScript 确保类型安全
- **组件化**：功能模块化，易于维护和扩展
- **一致性**：遵循统一的代码风格和命名规范
- **可读性**：代码要有清晰的注释和文档

### 3. 数据完整性
- **审计日志**：所有关键操作必须记录日志
- **数据验证**：前后端都要进行数据验证
- **错误处理**：优雅地处理所有错误情况
- **数据安全**：敏感信息要加密存储

### 4. 性能优化
- **快速加载**：页面加载时间控制在 3 秒内
- **优化查询**：数据库查询要建立适当的索引
- **缓存策略**：合理使用缓存减少重复请求
- **异步操作**：长时间操作要异步处理

## 技术栈标准

### 前端
- **框架**：React 18+ with TypeScript
- **状态管理**：React Hooks（useState, useEffect）
- **路由**：React Router v6
- **样式**：Inline styles（当前项目风格）
- **构建工具**：Create React App

### 后端
- **数据库**：Supabase (PostgreSQL)
- **认证**：基于 localStorage 的会话管理
- **API**：RESTful API 通过 Supabase Client

### 部署
- **托管**：Netlify
- **CI/CD**：Git push 自动部署
- **域名**：https://market-link-express.com

## 开发流程

### 新功能开发
1. **规范先行**：在 `specs/` 目录创建功能规范
2. **审计日志**：所有 CRUD 操作必须记录到 audit_logs 表
3. **权限控制**：根据用户角色限制功能访问
4. **测试验证**：手动测试所有功能路径
5. **文档更新**：更新相关使用文档

### 数据库变更
1. **SQL 脚本**：所有表结构变更要有 SQL 脚本
2. **索引优化**：为常用查询字段建立索引
3. **RLS 策略**：启用行级安全策略
4. **备份确认**：重要变更前要有数据备份

### 代码审查要点
- 类型定义是否完整？
- 错误处理是否充分？
- 审计日志是否记录？
- 用户体验是否流畅？
- 权限控制是否正确？

## 设计规范

### 颜色方案
- **主色调**：蓝色渐变 `linear-gradient(135deg, #1a365d 0%, #2c5282 50%, #3182ce 100%)`
- **成功**：绿色 `rgba(72, 187, 120, 0.3)`
- **警告**：橙色 `rgba(237, 137, 54, 0.3)`
- **错误**：红色 `rgba(245, 101, 101, 0.3)`
- **信息**：蓝色 `rgba(66, 153, 225, 0.3)`

### 组件样式
- **圆角**：`borderRadius: '12px'` 或 `'16px'`
- **阴影**：`boxShadow: '0 8px 25px rgba(26, 54, 93, 0.3)'`
- **透明度**：背景使用 `rgba(255, 255, 255, 0.12)`
- **毛玻璃效果**：`backdropFilter: 'blur(20px)'`

### 间距标准
- **小间距**：8px, 12px
- **中间距**：16px, 20px, 24px
- **大间距**：32px, 40px

## 命名规范

### 文件命名
- **组件**：PascalCase (例如：`EmployeeSupervision.tsx`)
- **服务**：camelCase (例如：`supabase.ts`)
- **常量**：UPPER_SNAKE_CASE

### 变量命名
- **状态**：descriptive camelCase (例如：`isLoading`, `selectedPackage`)
- **函数**：动词开头 (例如：`handleSubmit`, `loadPackages`)
- **常量**：UPPER_CASE (例如：`API_URL`, `MAX_RETRIES`)

## 安全要求

### 认证授权
- **会话管理**：使用 localStorage 存储用户信息
- **权限验证**：每个页面检查用户角色
- **登录日志**：记录所有登录行为
- **密码存储**：明文存储（注意：生产环境应加密）

### 数据保护
- **敏感数据**：员工工资等敏感信息要控制访问
- **审计追踪**：所有修改操作都要记录
- **输入验证**：防止 SQL 注入和 XSS 攻击

## 错误处理

### 用户友好的错误提示
- **中文提示**：所有错误信息都用中文显示
- **具体说明**：告诉用户发生了什么
- **解决建议**：提供可能的解决方案
- **联系方式**：严重错误时提供支持联系方式

### 日志记录
- **控制台日志**：开发环境详细记录
- **错误捕获**：使用 try-catch 捕获异常
- **审计日志**：记录到 audit_logs 表

## 性能指标

### 目标
- **首屏加载**：< 3 秒
- **操作响应**：< 500ms
- **数据库查询**：< 1 秒
- **部署时间**：< 2 分钟

## 文档要求

### 代码文档
- **函数注释**：复杂函数要有注释说明
- **类型定义**：导出的接口要有注释
- **README**：每个重要模块要有使用说明

### 用户文档
- **功能说明**：新功能要更新用户文档
- **操作指南**：提供步骤说明
- **常见问题**：记录常见问题和解决方案

---

**最后更新**: 2025-09-30  
**维护者**: Market Link Express 开发团队
