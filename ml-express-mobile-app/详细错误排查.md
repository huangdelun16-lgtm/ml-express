# ğŸ” Manifest Merger é”™è¯¯è¯¦ç»†æ’æŸ¥

## âš ï¸ å½“å‰çŠ¶æ€

å·²å®Œå…¨ç§»é™¤ `permissions` æ•°ç»„ï¼Œæ‰€æœ‰æƒé™ç”±æ’ä»¶è‡ªåŠ¨ç®¡ç†ã€‚

---

## ğŸ” éœ€è¦æŸ¥çœ‹è¯¦ç»†é”™è¯¯

**æ„å»ºæ—¥å¿—é“¾æ¥**: https://expo.dev/accounts/amt349/projects/MarketLinkStaffApp/builds/2c7af866-142b-4a55-a28e-efb292a2890a

### æŸ¥çœ‹æ­¥éª¤ï¼š

1. **æ‰“å¼€æ„å»ºæ—¥å¿—é“¾æ¥**
2. **æ‰¾åˆ° "Run gradlew" é˜¶æ®µ**
3. **æŸ¥æ‰¾ "Manifest merger" ç›¸å…³é”™è¯¯**
4. **æŸ¥çœ‹å…·ä½“æ˜¯å“ªäº›æƒé™æˆ–é…ç½®å†²çª**

å¸¸è§é”™è¯¯æ ¼å¼ï¼š
```
Manifest merger failed : Attribute application@label value=(...) from AndroidManifest.xml
```

æˆ–

```
Manifest merger failed : Uses-sdk:minSdkVersion 21 cannot be smaller than version 23
```

---

## ğŸ”§ å¯èƒ½çš„è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šæ£€æŸ¥æ’ä»¶é…ç½®å†²çª

**é—®é¢˜**ï¼šæ’ä»¶é…ç½®å¯èƒ½æœ‰å†²çª

**è§£å†³æ–¹æ³•**ï¼šç®€åŒ–æ’ä»¶é…ç½®

```javascript
plugins: [
  "expo-camera",
  "expo-location", 
  "expo-media-library"
]
```

ç§»é™¤æ’ä»¶é…ç½®ä¸­çš„è‡ªå®šä¹‰æƒé™è¯´æ˜ï¼Œè®©æ’ä»¶ä½¿ç”¨é»˜è®¤é…ç½®ã€‚

---

### æ–¹æ¡ˆ 2ï¼šæ£€æŸ¥ Android ç‰ˆæœ¬è¦æ±‚

**é—®é¢˜**ï¼šæŸäº›æ’ä»¶å¯èƒ½éœ€è¦æ›´é«˜çš„ minSdkVersion

**è§£å†³æ–¹æ³•**ï¼šåœ¨ `app.config.js` ä¸­æ·»åŠ ï¼š

```javascript
android: {
  // ... å…¶ä»–é…ç½®
  minSdkVersion: 23, // æˆ–æ›´é«˜
}
```

---

### æ–¹æ¡ˆ 3ï¼šä½¿ç”¨ app.json æ›¿ä»£ app.config.js

**é—®é¢˜**ï¼šapp.config.js å¯èƒ½æœ‰è¯­æ³•é—®é¢˜

**è§£å†³æ–¹æ³•**ï¼šä¸´æ—¶ä½¿ç”¨ app.json

1. å¤‡ä»½ app.config.js
2. åˆ›å»º app.jsonï¼ˆä» app.config.js è½¬æ¢ï¼‰
3. é‡æ–°æ„å»º

---

### æ–¹æ¡ˆ 4ï¼šæ£€æŸ¥ä¾èµ–ç‰ˆæœ¬

**é—®é¢˜**ï¼šä¾èµ–ç‰ˆæœ¬ä¸å…¼å®¹

**è§£å†³æ–¹æ³•**ï¼š

```bash
cd ml-express-mobile-app
npx expo install --fix
npx expo-doctor
```

---

### æ–¹æ¡ˆ 5ï¼šä½¿ç”¨æœ¬åœ°æ„å»ºæŸ¥çœ‹è¯¦ç»†é”™è¯¯

**é—®é¢˜**ï¼šäº‘ç«¯æ„å»ºæ—¥å¿—ä¸å¤Ÿè¯¦ç»†

**è§£å†³æ–¹æ³•**ï¼šæœ¬åœ°æ„å»º

```bash
eas build --platform android --profile production --local
```

**æ³¨æ„**ï¼šéœ€è¦å®‰è£… Android SDK å’Œ Java JDK

---

## ğŸ“‹ æ¨èæ“ä½œæ­¥éª¤

### æ­¥éª¤ 1ï¼šæŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—

1. æ‰“å¼€æ„å»ºæ—¥å¿—é“¾æ¥
2. æ‰¾åˆ°å…·ä½“çš„ manifest merger é”™è¯¯
3. å¤åˆ¶é”™è¯¯ä¿¡æ¯

### æ­¥éª¤ 2ï¼šæ ¹æ®é”™è¯¯ä¿¡æ¯ä¿®å¤

**å¦‚æœæ˜¯æƒé™å†²çª**ï¼š
- æ£€æŸ¥æ’ä»¶é…ç½®
- ç¡®ä¿æ²¡æœ‰é‡å¤å£°æ˜

**å¦‚æœæ˜¯ç‰ˆæœ¬å†²çª**ï¼š
- æ·»åŠ  minSdkVersion
- æ›´æ–°ä¾èµ–ç‰ˆæœ¬

**å¦‚æœæ˜¯é…ç½®å†²çª**ï¼š
- ç®€åŒ–é…ç½®
- ç§»é™¤ä¸å¿…è¦çš„è‡ªå®šä¹‰é…ç½®

### æ­¥éª¤ 3ï¼šé‡æ–°æ„å»º

```bash
cd /Users/aungmyatthu/Desktop/ml-express/ml-express-mobile-app
eas build --platform android --profile production --clear-cache
```

---

## ğŸ†˜ å¦‚æœè¿˜æ˜¯å¤±è´¥

è¯·æä¾›ï¼š

1. **æ„å»ºæ—¥å¿—ä¸­çš„å…·ä½“ manifest merger é”™è¯¯**ï¼ˆä»é“¾æ¥ä¸­å¤åˆ¶ï¼‰
2. **é”™è¯¯å‘ç”Ÿåœ¨å“ªä¸ªé˜¶æ®µ**
3. **å®Œæ•´çš„é”™è¯¯å †æ ˆ**ï¼ˆå¦‚æœæœ‰ï¼‰

æˆ‘ä¼šæ ¹æ®å…·ä½“é”™è¯¯æä¾›é’ˆå¯¹æ€§çš„è§£å†³æ–¹æ¡ˆã€‚

---

## ğŸ“ ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼šç®€åŒ–é…ç½®

å¦‚æœé—®é¢˜æŒç»­ï¼Œå¯ä»¥å°è¯•æœ€ç®€é…ç½®ï¼š

```javascript
android: {
  adaptiveIcon: {
    foregroundImage: "./assets/adaptive-icon.png",
    backgroundColor: "#2c5282"
  },
  package: "com.marketlinkexpress.staff",
  config: {
    googleMaps: {
      apiKey: process.env.EXPO_PUBLIC_GOOGLE_MAPS_API_KEY || "AIzaSyDziYSarzsBiZHuyza-YDY9ZkaZILEq0SE"
    }
  }
}
```

ç§»é™¤æ‰€æœ‰å…¶ä»– Android é…ç½®ï¼Œåªä¿ç•™æœ€åŸºæœ¬çš„ã€‚

---

**è¯·å…ˆæŸ¥çœ‹æ„å»ºæ—¥å¿—ï¼Œå‘Šè¯‰æˆ‘å…·ä½“çš„ manifest merger é”™è¯¯ä¿¡æ¯ï¼** ğŸ”

