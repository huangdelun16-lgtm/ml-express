# 🚀 快速上传指南 - 一步步操作

## 📋 第一步：检查准备

### 1.1 打开终端

在 Mac 上：
- 按 `Command + 空格键` 打开 Spotlight
- 输入 `终端` 或 `Terminal`
- 按回车打开

### 1.2 检查 EAS CLI

在终端中输入：

```bash
eas --version
```

**如果显示版本号**（比如 `eas-cli/5.x.x`）：
✅ 已安装，跳到第二步

**如果显示 `command not found`**：
需要安装，运行：

```bash
npm install -g eas-cli
```

等待安装完成（可能需要几分钟）

---

## 📋 第二步：登录 EAS

在终端中输入：

```bash
eas login
```

**操作步骤**：
1. 会打开浏览器
2. 如果没有 Expo 账号，先注册：https://expo.dev/signup
3. 登录后，终端会显示 "✅ Logged in"

---

## 📋 第三步：进入项目目录

在终端中输入：

```bash
cd /Users/aungmyatthu/Desktop/ml-express/ml-express-mobile-app
```

按回车执行

---

## 📋 第四步：配置 API 密钥（如果还没配置）

在终端中输入：

```bash
eas secret:create --scope project --name EXPO_PUBLIC_GOOGLE_MAPS_API_KEY --value AIzaSyDziYSarzsBiZHuyza-YDY9ZkaZILEq0SE --type string
```

**说明**：
- 这会配置 Google Maps API 密钥
- 如果已经配置过，会提示已存在，可以跳过

---

## 📋 第五步：开始构建应用

在终端中输入：

```bash
eas build --platform android --profile production
```

**接下来会发生什么**：

1. **选择构建类型**：
   - 会问您 "What would you like to do?"
   - 选择：**"Build a development build"** 或直接按回车（默认）

2. **上传代码**：
   - EAS 会上传您的代码到服务器
   - 显示上传进度

3. **开始构建**：
   - 在云端开始构建应用
   - 显示构建进度

**预计时间**：10-20 分钟

**您会看到**：
```
📦 Uploading to EAS Build...
✅ Uploaded
🔨 Building on EAS servers...
⏳ This may take a few minutes...
```

**等待构建完成**，不要关闭终端！

---

## 📋 第六步：下载构建文件

构建完成后，您会看到：

```
✅ Build finished
📦 Build artifact: https://expo.dev/artifacts/...
```

### 6.1 下载文件

**方法 1：直接点击链接**
- 复制链接到浏览器打开
- 会自动下载 `.aab` 文件

**方法 2：使用命令下载**
- 记住构建 ID（在链接中）
- 运行：`eas build:download [BUILD_ID]`

**文件位置**：
- 通常在 `Downloads` 文件夹
- 文件名类似：`build-xxxxx.aab`

---

## 📋 第七步：上传到 Google Play Console

### 7.1 打开 Google Play Console

1. 打开浏览器
2. 访问：https://play.google.com/console
3. 登录您的 Google 账号
4. 选择应用：**ML Express Staff**

### 7.2 进入发布页面

1. 在左侧菜单，点击 **"发布"**
2. 点击 **"生产环境"**（或 **"内部测试"**）
3. 点击 **"创建新版本"** 或 **"创建版本"**

### 7.3 上传文件

1. 找到 **"应用包"** 部分
2. 点击 **"上传"** 或 **"选择文件"** 按钮
3. 选择刚才下载的 `.aab` 文件
4. 等待上传完成（显示进度条）

**注意**：
- 确保上传的是 `.aab` 文件
- 上传可能需要几分钟

---

## 📋 第八步：填写版本信息

### 8.1 版本名称

在 **"版本名称"** 输入框填写：
```
1.0.0
```

### 8.2 版本说明

在 **"此版本的更新内容"** 输入框填写：

**中文**：
```
首次发布
- 骑手登录和账号管理
- 包裹任务列表和详情
- 地图导航和路线规划
- 二维码扫描功能
- 配送照片上传
- 财务统计和报表
```

**英文**：
```
Initial Release
- Courier login and account management
- Package task list and details
- Map navigation and route planning
- QR code scanning
- Delivery photo upload
- Financial statistics and reports
```

---

## 📋 第九步：检查错误

上传后，页面会显示错误列表。

### ✅ 如果看到这些错误，按以下方法解决：

#### 错误 1：需要上传 APK 或 Android App Bundle
**解决方法**：
- ✅ 确保文件已上传完成
- ✅ 等待几分钟，刷新页面
- ✅ 检查文件格式是否为 `.aab`

#### 错误 2：不允许现有用户升级
**解决方法**：
- ✅ 如果是首次发布，可以忽略
- ✅ 确保这是第一个版本

#### 错误 3：没有添加或删除应用包
**解决方法**：
- ✅ 确保文件已上传成功
- ✅ 等待 Google 处理完成（可能需要 10-30 分钟）
- ✅ 刷新页面查看状态

#### 错误 4：账户有问题
**解决方法**：
- ✅ 检查是否已完成开发者账号注册
- ✅ 检查是否已支付 $25 注册费用
- ✅ 如果没有，需要先完成注册和支付

---

## 📋 第十步：完成其他必需项

### 10.1 内容分级（必需）

1. 在左侧菜单，点击 **"内容分级"**
2. 点击 **"开始使用"**
3. 完成问卷（选择适合的选项）
4. 点击 **"保存"**

### 10.2 数据安全（必需）

1. 在左侧菜单，点击 **"内容分级"** → **"数据安全"**
2. 按照 `GOOGLE_PLAY_DATA_SAFETY_GUIDE.md` 中的说明填写
3. 或者简单填写：
   - 选择 **"是，我的应用会收集数据"**
   - 选择收集的数据类型（位置、个人信息、照片等）
   - 填写数据用途
   - 点击 **"保存"**

### 10.3 应用信息（必需）

1. 在左侧菜单，点击 **"主要应用信息"**
2. 填写：
   - **应用名称**: ML Express Staff
   - **简短描述**: 专业的快递配送管理应用
   - **完整描述**: （可以复制隐私政策中的描述）
3. 上传应用图标（512x512 像素）
4. 上传至少 2 张截图

---

## 📋 第十一步：发布应用

### 11.1 最终检查

在发布页面，确认：

- [ ] `.aab` 文件已上传
- [ ] 版本信息已填写
- [ ] 没有红色错误（黄色警告可以忽略）
- [ ] 内容分级已完成
- [ ] 数据安全已填写

### 11.2 保存

1. 点击页面底部的 **"保存"** 按钮
2. 等待保存完成

### 11.3 发布

1. 确认所有信息正确
2. 点击 **"开始发布到生产环境"** 或 **"发布"** 按钮
3. 确认发布

---

## 🎉 完成！

发布后：

1. **状态**：应用状态会变为"待审核"
2. **审核时间**：通常 1-3 个工作日
3. **查看状态**：在 **"发布"** → **"应用状态"** 中查看

---

## 🆘 遇到问题？

### 问题 1：构建失败

**可能原因**：
- API 密钥未配置
- 代码有错误

**解决方法**：
1. 检查终端中的错误信息
2. 告诉我具体的错误，我会帮您解决

### 问题 2：上传后一直显示"处理中"

**解决方法**：
- 这是正常的，Google 需要时间处理
- 等待 10-30 分钟
- 刷新页面查看状态

### 问题 3：账户问题

**解决方法**：
1. 检查是否已完成开发者账号注册
2. 如果没有，访问：https://play.google.com/console/signup
3. 支付 $25 注册费用
4. 完成注册后重新尝试

---

## 📞 需要帮助？

如果在任何步骤遇到问题，请告诉我：
1. 您在哪一步
2. 看到了什么错误信息
3. 我会帮您解决！

---

**按照这个指南一步步操作，您就能成功上传应用了！** 🚀

