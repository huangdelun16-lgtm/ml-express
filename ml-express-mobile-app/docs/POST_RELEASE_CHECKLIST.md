# ✅ 应用发布后操作清单

## 📋 当前状态

**版本**: 5  
**轨道**: Internal testing（内部测试）  
**状态**: Available to internal testers（可供内部测试人员使用）  
**发布状态**: Full rollout（全面推出）

---

## ✅ 立即需要做的操作

### 1. 添加内部测试人员

#### 步骤 1：创建测试用户列表

1. **进入 Google Play Console**
   - 访问：https://play.google.com/console
   - 选择您的应用

2. **进入测试人员设置**
   - 点击左侧菜单 **"测试"** → **"内部测试"**
   - 或直接访问：**"发布"** → **"测试"** → **"内部测试"**

3. **添加测试人员**
   - 点击 **"测试人员"** 标签
   - 点击 **"创建列表"** 或 **"管理测试人员"**
   - 添加测试人员的邮箱地址（Gmail 账号）
   - 保存列表

#### 步骤 2：邀请测试人员

- 测试人员会收到邀请邮件
- 或者提供测试链接给测试人员
- 测试链接格式：`https://play.google.com/apps/internaltest/[测试ID]`

---

### 2. 测试应用功能

#### 核心功能测试清单

- [ ] ✅ **登录功能**
  - 使用测试账号登录
  - 验证登录状态保持

- [ ] ✅ **我的任务**
  - 查看分配的包裹任务
  - 测试状态更新（待取件 → 已取件 → 配送中 → 已送达）
  - 测试拨打电话功能
  - 测试导航功能

- [ ] ✅ **配送地图**
  - 验证位置权限请求
  - 查看地图上的包裹位置
  - 测试点击标记查看详情

- [ ] ✅ **扫码查询**
  - 测试二维码扫描
  - 测试手动输入包裹编号
  - 验证查询结果

- [ ] ✅ **个人中心**
  - 查看统计信息
  - 查看配送历史
  - 测试退出登录

---

### 3. 上传 Deobfuscation File（可选但推荐）

#### 步骤 1：从 EAS Build 下载 mapping.txt

1. **访问 EAS Build 网站**
   - https://expo.dev/accounts/amt349/projects/ml-express-mobile-app/builds
   - 找到版本 5 的构建

2. **下载 mapping.txt**
   - 在构建详情页面查找 **"Artifacts"** 或 **"构建产物"**
   - 下载 `mapping.txt` 文件

#### 步骤 2：上传到 Google Play Console

1. **进入应用完整性页面**
   - Google Play Console → 您的应用
   - **"发布"** → **"应用完整性"**

2. **找到版本 5**
   - 在 "Latest app bundles" 部分找到版本 5
   - 点击版本号进入详情

3. **上传 mapping.txt**
   - 找到 **"Deobfuscation file"** 部分
   - 点击 **"上传"** 或 **"Upload"**
   - 选择下载的 `mapping.txt` 文件
   - 上传

**注意**：这个操作是可选的，但推荐完成，有助于调试崩溃和 ANR。

---

### 4. 监控应用状态

#### 检查清单

- [ ] ✅ **应用完整性**
  - 检查是否有警告或错误
  - 确认签名密钥正确

- [ ] ✅ **应用内容**
  - 检查应用详情是否完整
  - 确认隐私政策链接有效

- [ ] ✅ **测试反馈**
  - 收集测试人员的反馈
  - 记录发现的问题

---

## 🚀 准备生产发布

### 步骤 1：完成应用商店信息

#### 必需信息

- [ ] ✅ **应用名称**: ML Express Staff
- [ ] ✅ **简短描述**: 快递员专用配送管理应用
- [ ] ✅ **完整描述**: 使用之前准备的 release notes
- [ ] ✅ **应用图标**: 已上传
- [ ] ✅ **功能图形**: （可选，但推荐）
- [ ] ✅ **隐私政策**: https://market-link-express.com/privacy-policy

#### 应用分类

- [ ] ✅ 选择应用类别（例如：商业、工具等）
- [ ] ✅ 选择内容分级

---

### 步骤 2：准备生产版本

当内部测试通过后：

1. **创建生产版本**
   - 进入 **"发布"** → **"生产"**
   - 点击 **"创建新版本"**

2. **从内部测试推广**
   - 可以选择从内部测试版本推广到生产
   - 或创建新的生产版本

3. **填写版本信息**
   - 版本名称：`1.0.0`
   - 版本说明：使用 release notes

4. **提交审核**
   - 点击 **"开始发布到生产"**
   - 等待 Google Play 审核（通常 1-3 个工作日）

---

## 📊 监控和维护

### 1. 应用分析

- [ ] ✅ 设置 Google Play Console 分析
- [ ] ✅ 监控安装量
- [ ] ✅ 查看用户评分和评论
- [ ] ✅ 监控崩溃和 ANR

### 2. 用户反馈

- [ ] ✅ 定期查看用户评论
- [ ] ✅ 回复用户反馈
- [ ] ✅ 收集功能建议

### 3. 性能监控

- [ ] ✅ 监控应用性能
- [ ] ✅ 检查崩溃报告
- [ ] ✅ 优化应用大小

---

## 🎯 快速操作指南

### 立即操作（今天）

1. ✅ **添加测试人员**
   - Google Play Console → 测试 → 内部测试 → 测试人员
   - 添加至少 1-2 个测试账号

2. ✅ **测试应用**
   - 安装应用到测试设备
   - 测试核心功能

3. ✅ **上传 mapping.txt**（可选）
   - 从 EAS Build 下载
   - 上传到 Google Play Console

### 本周操作

1. ✅ **收集测试反馈**
2. ✅ **修复发现的问题**
3. ✅ **准备生产版本信息**

### 准备生产发布

1. ✅ **完成应用商店信息**
2. ✅ **创建生产版本**
3. ✅ **提交审核**

---

## 📝 重要提示

### 1. 内部测试阶段

- ✅ **测试人员限制**：内部测试最多 100 人
- ✅ **快速更新**：可以快速发布更新版本
- ✅ **无需审核**：内部测试版本无需 Google Play 审核

### 2. 生产发布

- ⚠️ **需要审核**：生产版本需要 Google Play 审核（1-3 个工作日）
- ⚠️ **版本号**：生产版本需要完整的版本信息
- ⚠️ **内容分级**：需要完成内容分级问卷

### 3. 版本管理

- ✅ **版本号**：使用语义化版本（如 1.0.0）
- ✅ **版本代码**：EAS 自动管理（当前是 5）
- ✅ **更新说明**：每次更新都要写 release notes

---

## 🆘 如果遇到问题

### 问题 1：测试人员无法安装应用

**解决方案**：
- 确认测试人员已加入测试列表
- 确认测试人员使用正确的 Google 账号
- 提供测试链接给测试人员

### 问题 2：应用崩溃

**解决方案**：
- 查看崩溃报告（Google Play Console → 质量 → 崩溃和 ANR）
- 如果有 mapping.txt，崩溃报告会更清晰
- 修复问题后发布新版本

### 问题 3：功能不工作

**解决方案**：
- 检查权限设置
- 检查 API Key 配置
- 查看应用日志

---

**文档创建时间**: 2025-01-16  
**当前版本**: 5  
**状态**: ✅ 内部测试已发布

