# ğŸ”§ Manifest Merger é”™è¯¯ - æœ€ç»ˆè§£å†³æ–¹æ¡ˆ

## âš ï¸ é—®é¢˜åˆ†æ

ä»æ„å»ºæ—¥å¿—å¯ä»¥çœ‹åˆ°ï¼š
- **ä¸»è¦é”™è¯¯**: `Manifest merger failed with multiple errors`
- **è­¦å‘Š**: expo-modules-core å’Œ react-native-async-storage çš„ä¸€äº›é…ç½®è­¦å‘Š

---

## âœ… å·²åº”ç”¨çš„ä¿®å¤

1. âœ… **å®Œå…¨ç§»é™¤äº† `permissions` æ•°ç»„** - è®©æ’ä»¶è‡ªåŠ¨ç®¡ç†æƒé™
2. âœ… **ç®€åŒ–äº†æ’ä»¶é…ç½®** - ç§»é™¤äº†è‡ªå®šä¹‰æƒé™è¯´æ˜
3. âœ… **æ·»åŠ äº† `minSdkVersion: 23`** - ç¡®ä¿æ‰€æœ‰æ’ä»¶å…¼å®¹

---

## ğŸ” éœ€è¦æŸ¥çœ‹è¯¦ç»†é”™è¯¯

**é‡è¦**: è¯·æ‰“å¼€æ„å»ºæ—¥å¿—ï¼Œæ‰¾åˆ°å…·ä½“çš„ manifest merger é”™è¯¯ä¿¡æ¯ï¼š

**æ„å»ºæ—¥å¿—**: https://expo.dev/accounts/amt349/projects/MarketLinkStaffApp/builds/2c7af866-142b-4a55-a28e-efb292a2890a

### æŸ¥æ‰¾æ­¥éª¤ï¼š

1. æ‰“å¼€é“¾æ¥
2. æ‰¾åˆ° **"Run gradlew"** é˜¶æ®µ
3. æœç´¢ **"Manifest merger failed"**
4. æŸ¥çœ‹å…·ä½“çš„é”™è¯¯ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š
   - `Attribute application@label value=(...)`
   - `Uses-sdk:minSdkVersion ...`
   - `Permission ...`

---

## ğŸ”§ å¦‚æœè¿˜æ˜¯å¤±è´¥ - å°è¯•ä»¥ä¸‹æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šè¿è¡Œ prebuild ç”ŸæˆåŸç”Ÿé¡¹ç›®

æœ‰æ—¶éœ€è¦å…ˆç”ŸæˆåŸç”Ÿé¡¹ç›®ï¼š

```bash
cd ml-express-mobile-app
npx expo prebuild --platform android --clean
```

ç„¶åé‡æ–°æ„å»ºï¼š

```bash
eas build --platform android --profile production --clear-cache
```

### æ–¹æ¡ˆ 2ï¼šæ£€æŸ¥å¹¶æ›´æ–°æ‰€æœ‰ä¾èµ–

```bash
cd ml-express-mobile-app
npx expo install --fix
npx expo-doctor
```

### æ–¹æ¡ˆ 3ï¼šä¸´æ—¶ç¦ç”¨ newArchEnabled

å¦‚æœ newArchEnabled å¯¼è‡´é—®é¢˜ï¼Œå¯ä»¥ä¸´æ—¶ç¦ç”¨å®ƒï¼š

```javascript
// app.config.js
newArchEnabled: false, // ä¸´æ—¶ç¦ç”¨
```

### æ–¹æ¡ˆ 4ï¼šä½¿ç”¨ app.json æ›¿ä»£ app.config.js

å¦‚æœ app.config.js æœ‰é—®é¢˜ï¼Œå¯ä»¥ä¸´æ—¶ä½¿ç”¨ app.jsonï¼š

1. å¤‡ä»½ app.config.js
2. å°†é…ç½®è½¬æ¢ä¸º app.json æ ¼å¼
3. é‡æ–°æ„å»º

---

## ğŸ“‹ æ¨èæ“ä½œæ­¥éª¤

### æ­¥éª¤ 1ï¼šæŸ¥çœ‹è¯¦ç»†é”™è¯¯

1. æ‰“å¼€æ„å»ºæ—¥å¿—é“¾æ¥
2. æ‰¾åˆ°å…·ä½“çš„ manifest merger é”™è¯¯
3. **å¤åˆ¶å®Œæ•´çš„é”™è¯¯ä¿¡æ¯ç»™æˆ‘**

### æ­¥éª¤ 2ï¼šå°è¯• prebuild

```bash
cd /Users/aungmyatthu/Desktop/ml-express/ml-express-mobile-app
npx expo prebuild --platform android --clean
eas build --platform android --profile production --clear-cache
```

### æ­¥éª¤ 3ï¼šå¦‚æœè¿˜æ˜¯å¤±è´¥

è¯·æä¾›ï¼š
1. **æ„å»ºæ—¥å¿—ä¸­çš„å…·ä½“ manifest merger é”™è¯¯**ï¼ˆå®Œæ•´é”™è¯¯ä¿¡æ¯ï¼‰
2. **é”™è¯¯å‘ç”Ÿåœ¨å“ªä¸ªé˜¶æ®µ**
3. **æ˜¯å¦æœ‰å…¶ä»–ç›¸å…³é”™è¯¯**

---

## ğŸ†˜ ç´§æ€¥è§£å†³æ–¹æ¡ˆ

å¦‚æœæ€¥éœ€æ„å»ºæˆåŠŸï¼Œå¯ä»¥å°è¯•ï¼š

### ä¸´æ—¶ç¦ç”¨å¯èƒ½æœ‰é—®é¢˜çš„åŠŸèƒ½

```javascript
// app.config.js
expo: {
  // ... å…¶ä»–é…ç½®
  newArchEnabled: false, // ç¦ç”¨æ–°æ¶æ„
  plugins: [
    "expo-camera",
    "expo-location",
    // ä¸´æ—¶ç§»é™¤ expo-media-library æµ‹è¯•
  ]
}
```

---

**è¯·å…ˆæŸ¥çœ‹æ„å»ºæ—¥å¿—ï¼Œå‘Šè¯‰æˆ‘å…·ä½“çš„ manifest merger é”™è¯¯ä¿¡æ¯ï¼Œæˆ‘ä¼šæä¾›é’ˆå¯¹æ€§çš„è§£å†³æ–¹æ¡ˆï¼** ğŸ”

